(function(t){function e(e){for(var a,r,n=e[0],l=e[1],c=e[2],d=0,u=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&u.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);m&&m(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,n=1;n<s.length;n++){var l=s[n];0!==o[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},o={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var m=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0a56":function(t,e,s){t.exports=s.p+"img/neondesktop.345ecba2.jpg"},1:function(t,e){},"129c":function(t,e,s){},"3a12":function(t,e,s){t.exports=s.p+"img/racinggirl.3a1a4eed.jpg"},"3ffd":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("navbar"),s("router-view")],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand flashy neon red on",attrs:{to:{name:"Home"}}},[t._v(" D. C. "),a("img",{staticClass:"logo",attrs:{src:s("cf05"),alt:""}}),t._v(" D. R.")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("div",{staticClass:"d-flex align-items-md-center w-100"},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"Home"==t.$route.name}},[a("router-link",{staticClass:"nav-link text-light flashy neon blue",attrs:{to:{name:"Home"}}},[t._v("Home")])],1),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"Rooms"==t.$route.name}},[a("router-link",{staticClass:"nav-link text-light flashy neon blue",attrs:{to:{name:"Rooms"}}},[t._v("Create a Poll ")])],1):t._e(),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"Profile"==t.$route.name}},[a("router-link",{staticClass:"nav-link text-light flashy neon blue",attrs:{to:{name:"Profile"}}},[t._v("Profile")])],1):t._e(),a("li",{staticClass:"nav-item"},[a("form",{staticClass:"form-inline ml-md-3",on:{submit:function(e){return e.preventDefault(),t.setActiveRoom(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control neon blue",attrs:{type:"text",placeholder:"Join Room","aria-describedby":"helpId"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),a("button",{staticClass:"btn btn-primary mx-md-2 form-control flashy neon blue",attrs:{type:"submit"}},[t._v("Join!")])])])])]),a("div",{staticClass:"d-flex justify-content-end align-items-start h-100"},[a("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-primary flashy neon blue",on:{click:t.logout}},[t._v("logout")]):a("button",{staticClass:"btn btn-primary flashy neon blue",on:{click:t.login}},[t._v(" Login ")])])])])])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],l=s("3d20"),c=s.n(l);class m{static async addName(){try{let t=await c.a.fire({title:"Enter your name",input:"text",showCancelButton:!1,confirmButtonText:"Yes",allowOutsideClick:!1,inputValidator:t=>{if(!t)return"You need to write something!"}});return t}catch(t){}}static async confirmDelete(t="You won't be able to revert this!"){try{let t=await c.a.fire({title:"Are You Sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"});return!!t.value}catch(e){}}static async steamNotice(){try{c.a.fire({icon:"error",title:"Somethings off...",text:"Couldnt find those games boss. Make sure your steam games are public and try again",footer:"<router-link :to=\"{ name: 'Faq' }\">learn more about this error</router-link>"})}catch(t){}}static async gameLength(t){c.a.fire({icon:"error",title:"Somethings off...",text:`This poll can only have ${t} games`,footer:"<router-link :to=\"{ name: 'Faq' }\">learn more about this error</router-link>"})}}var d=s("bc3a"),u=s.n(d),p=s("335d"),h={name:"Navbar",data(){return{code:""}},computed:{profile(){return this.$store.state.profile}},methods:{async login(){await this.$auth.loginWithPopup(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})},async setActiveRoom(){if(this.$auth.isAuthenticated)this.$store.dispatch("setMyName",this.profile.name);else if(!this.$auth.isAuthenticated){let t=await m.addName();this.$store.dispatch("setMyName",t.value)}this.$store.dispatch("joinRoom",""+this.code),this.$store.dispatch("getGames",this.code),this.$router.push({name:"Room",params:{code:this.code}})}}},v=h,f=s("2877"),g=Object(f["a"])(v,r,n,!1,null,null,null),b=g.exports,C={name:"App",async beforeCreate(){this.$store.dispatch("initializeSocket"),await Object(p["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},components:{Navbar:b}},y=C,w=(s("5c0b"),Object(f["a"])(y,o,i,!1,null,null,null)),_=w.exports,$=s("8c4f"),x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"background container-fluid"},[s("div",{staticClass:"row justify-content-center bg-darken"},[t._m(0),s("div",{staticClass:"col-10 col-md-4 d-flex justify-content-around"},[s("div",{staticClass:"card text-center border-0 align-self-center content-shadow pop"},[t._m(1),s("div",{staticClass:"card-body bg-dark"},[s("p",{staticClass:"neon blue"},[t._v("Don't Waste Time Deciding what to play.Match with your friends, find a game you all love, and get to the game faster.")]),s("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"Rooms"}}},[t._v(" Get started")])],1)])])]),s("div",{staticClass:"spacer"}),s("div",{staticClass:"row bg-darken py-2"},[s("div",{staticClass:"col-12 col-md-5 d-flex"},[s("div",{staticClass:"card text-center border-0 align-self-center content-shadow pop"},[t._m(2),s("div",{staticClass:"card-body bg-dark neon blue"},[s("p",[t._v("Love the games you voted on last time, but want to create another poll? No problem your prior polls are saved to your account.")]),s("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"Profile"}}},[t._v("See your polls")])],1)])]),t._m(3)]),s("div",{staticClass:"spacer"}),t._m(4),s("div",{staticClass:"spacer"})])},R=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-10 col-md-8"},[a("img",{staticClass:"card-img img-card-md-one",attrs:{id:"neonTogether",src:s("a673"),alt:"Card image"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header bg-black red"},[s("h3",[t._v("Level Up Your Gaming Experience")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header bg-black red"},[s("h3",[t._v("Persistent Polls")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-7 d-none d-md-block"},[a("img",{staticClass:"card-img img-card-md-one ",attrs:{src:s("99a2"),alt:"Card image"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row my-5 bg-darken"},[a("div",{staticClass:"col-3 d-none d-md-block"},[a("img",{staticClass:"img-fluid img-card-sm",attrs:{src:s("0a56")}})]),a("div",{staticClass:"col-3 d-none d-md-block"},[a("img",{staticClass:"img-fluid img-card-sm",attrs:{src:s("3a12")}})]),a("div",{staticClass:"col-3 d-none d-md-block"},[a("img",{staticClass:"img-fluid img-card-sm",attrs:{src:s("6026")}})]),a("div",{staticClass:"col-3 d-none d-md-block"},[a("img",{staticClass:"img-fluid img-card-sm",attrs:{src:s("e991")}})])])}],G={name:"Home",mounted(){}},k=G,P=Object(f["a"])(k,x,R,!1,null,null,null),I=P.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid background"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-12 mt-2"},[s("div",{staticClass:"card border-0"},[s("img",{staticClass:"card-img-top",attrs:{src:t.profile.picture,alt:"Card image cap"}}),s("div",{staticClass:"card-body bg-dark"},[s("h3",{staticClass:"card-title red"},[t._v("Welcome: "+t._s(t.profile.name))]),s("p",{staticClass:"card-text neon blue"},[t._v("Some quick example text to build on the card title and make up the bulk of the card's content.")]),s("p",{staticClass:"neon green"},[t._v(t._s(t.profile.email))]),s("i",{staticClass:"fas fa-pen-alt",attrs:{"aria-hidden":"true"},on:{click:t.toggleEdit}}),s("div",{staticClass:"row"},[t.editing?s("form",{staticClass:"form-inline",on:{submit:function(e){return e.preventDefault(),t.finishEdit(e)}}},[s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"neon blue",attrs:{for:"profilename"}},[t._v("New Profile Name:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.eProfile.name,expression:"eProfile.name"}],staticClass:"form-control p-1 m-1 neon blue",attrs:{id:"profilename",type:"text",placeholder:"New Name"},domProps:{value:t.eProfile.name},on:{input:function(e){e.target.composing||t.$set(t.eProfile,"name",e.target.value)}}})]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"neon blue",attrs:{for:"profilesteam"}},[t._v("New Profile Steam Id:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.eProfile.steamId,expression:"eProfile.steamId"}],staticClass:"form-control p-1 m-1 neon blue",attrs:{id:"profilesteam",type:"text",placeholder:"Steam Id"},domProps:{value:t.eProfile.steamId},on:{input:function(e){e.target.composing||t.$set(t.eProfile,"steamId",e.target.value)}}})]),s("div",{staticClass:"form-group col-12"},[s("label",{staticClass:"neon blue",attrs:{for:"profilepic"}},[t._v("New Profile Picture:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.eProfile.picture,expression:"eProfile.picture"}],staticClass:"form-control p-1 m-1 neon blue",attrs:{id:"profilepic",type:"text",placeholder:"New Picture URL"},domProps:{value:t.eProfile.picture},on:{input:function(e){e.target.composing||t.$set(t.eProfile,"picture",e.target.value)}}})]),t._m(0)]):t._e()])])])]),s("div",{staticClass:"col-12 col-md-12 my-2"},[s("div",{staticClass:"card bg-dark"},[t._m(1),s("div",{staticClass:"card poll-container"},t._l(t.myRooms,(function(t){return s("historic-poll-component",{key:t.id,attrs:{pollData:t}})})),1)])])])]),t._m(2)])])},N=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 text-center"},[s("button",{staticClass:"btn btn-primary mx-2 flashy neon blue",attrs:{type:"submit"}},[t._v("Submit")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header text-center red"},[s("h3",[t._v("My Previous Polls")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 col-md-8 mt-2"},[a("div",{staticClass:"card bg-dark text-light p-4"},[a("img",{staticClass:"card-img profile-img-overlay",attrs:{src:s("99a2"),alt:"Card image"}}),a("div",{staticClass:"card-img-overlay"},[a("h3",{staticClass:"card-title red"},[t._v("My Channel")]),a("p",{staticClass:"card-text neon blue"},[t._v("This is where I could potentially invite people to hang out and run polls. Also where I would receive messages or feeds if I was subscribed to those things.")])])])])}],j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card bg-dark neon blue m-1 justify-content-between animate__animated animate__fadeOutRight"},[s("i",{staticClass:"fa fa-trash text-right fa-sm mt-2 mr-2",attrs:{"aria-hidden":"true"},on:{click:t.deletePoll}}),s("h2",[t._v(t._s(t.pollData.name))]),s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.rehost}},[t._v("Re-host poll")])])},E=[],S={name:"historicPollComponent",props:["pollData"],computed:{profile(){return this.$store.state.profile},games(){return this.$store.state.games}},methods:{async deletePoll(){await m.confirmDelete()&&this.$store.dispatch("deleteRoom",this.pollData.id)},rehost(){this.pollData.completed=!1,this.pollData.started=!1,this.pollData.names=[],this.$store.dispatch("resetRoom",this.pollData),this.$store.dispatch("setMyName",this.profile.name),this.$router.push({name:"Room",params:{code:this.pollData.code}})}}},T=S,M=Object(f["a"])(T,j,E,!1,null,null,null),O=M.exports,A={name:"Profile",mounted(){this.$store.dispatch("getRooms")},computed:{profile(){return this.$store.state.profile},myRooms(){return this.$store.state.myRooms}},data(){return{eProfile:{},editing:!1}},methods:{toggleEdit(){this.eProfile=this.profile,this.editing=!this.editing},finishEdit(){this.editing=!1,this.$store.dispatch("editProfile",this.eProfile)}},components:{historicPollComponent:O}},U=A,q=(s("6f86"),Object(f["a"])(U,D,N,!1,null,"284df844",null)),V=q.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid background"},[s("div",{staticClass:"divider-tiny"}),t.room?s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12 col-md-10"},[s("div",{staticClass:"card bg-dark text-center row"},[s("div",{staticClass:"card-header col"},[s("h1",{staticClass:"red my-3"},[t._v(t._s(t.room.name))]),s("h4",{staticClass:"neon green"},[t._v("Room Code: "+t._s(t.room.code))])]),s("div",{staticClass:"card-body text-center col"},[s("div",{staticClass:"row"},[s("h3",{staticClass:"card orange col-6"},[t._v("User Vetos: "+t._s(t.room.options.userVetos))]),s("h3",{staticClass:"card orange col-6"},[t._v("Required Consensus: "+t._s(t.room.options.consensus)+"%")])]),s("div",{staticClass:"row"},[s("h3",{staticClass:"card orange col-6"},[t._v("Time Per Item: "+t._s(t.room.options.questionTime)+"s")]),s("h3",{staticClass:"card orange col-6"},[t._v("Allowed Items: "+t._s(t.room.options.pollItems)+" items")])]),!t.room.started&&t.games.length<t.room.options.pollItems?s("div",{staticClass:"form-group card p-3 row"},[s("form",{staticClass:"justify-content-center",on:{submit:function(e){return e.preventDefault(),t.createGame(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newGame.name,expression:"newGame.name"}],staticClass:"col-12 my-1 neon blue form-control",attrs:{type:"text",placeholder:"Game name...",required:""},domProps:{value:t.newGame.name},on:{input:function(e){e.target.composing||t.$set(t.newGame,"name",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newGame.imgUrl,expression:"newGame.imgUrl"}],staticClass:"col-12 my-1 neon blue form-control",attrs:{type:"Url",placeholder:"Image url..."},domProps:{value:t.newGame.imgUrl},on:{input:function(e){e.target.composing||t.$set(t.newGame,"imgUrl",e.target.value)}}}),s("button",{staticClass:"btn btn-primary flashy neon blue m-1",attrs:{type:"submit"}},[t._v("Add a game")])])]):t._e(),t.room.started?t._e():s("div",{staticClass:"form-group card p-3 row",on:{submit:function(e){return e.preventDefault(),t.getSteamGames(e)}}},[s("form",{staticClass:"justify-content-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.steamUser.steamId,expression:"steamUser.steamId"}],staticClass:"col-12 my-1 neon blue form-control",attrs:{type:"text",placeholder:"Steam ID...",required:""},domProps:{value:t.steamUser.steamId},on:{input:function(e){e.target.composing||t.$set(t.steamUser,"steamId",e.target.value)}}}),s("button",{staticClass:"btn btn-primary flashy neon blue m-1",attrs:{type:"submit"}},[t._v("Get Steam libary")]),t.profile.steamId?s("button",{staticClass:"btn btn-primary flashy neon blue m-1",attrs:{type:"button"},on:{click:t.getUserSteam}},[t._v("Get My Steam libary")]):t._e()])]),!t.room.started&&t.games.length>1?s("button",{staticClass:"btn btn-primary m-2 flashy neon blue",attrs:{type:"button"},on:{click:this.startPoll}},[t._v(" Go! ")]):t._e(),t._m(0),s("div",{staticClass:"card row"},t._l(t.room.names,(function(e){return s("div",{key:e,staticClass:"neon orange card"},[t._v(t._s(e))])})),0)])])]),s("div",{staticClass:"col-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 steam-container px-3"},[t.steam.length?s("h1",[t._v("Steam Libray results:")]):t._e(),t._l(t.steam,(function(t){return s("steam-game-componet",{key:t.appid,attrs:{gameData:t}})}))],2),s("div",{staticClass:"col-6 steam-container px-3"},[t.room.started?t._e():s("h1",[t._v("Current Games:")]),t._l(t.games,(function(t){return s("game-vote-component",{key:t.id,attrs:{gameData:t}})}))],2)])])]):s("div",[s("loading-component")],1)])},B=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("h3",{staticClass:"red my-2 col-4 offset-4"},[t._v("Participants")])])}],H=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex loading-component justify-content-center m-2"},[s("canvas",{staticClass:"loading-animations",attrs:{id:"animationCanvas"}})])}],W={name:"loadingComponent",mounted(){for(let t=0;t<20;t++)this.scribbleAnimation(255,255,255,100*(Math.random()-.5),100*(Math.random()-.5))},data(){return{}},methods:{scribbleAnimation(t,e,s,a,o){let i=1,r=1,n=2,l=1,c=document.getElementById("animationCanvas"),m=c.getContext("2d"),d=t,u=e,p=s,h=a,v=o;d+=(Math.random()-.5)*r,d>255&&(d=255),d<0&&(d=0),u+=(Math.random()-.5)*r,u>255&&(u=255),u<0&&(u=0),p+=(Math.random()-.5)*r,p>255&&(p=255),p<0&&(p=0),h+=(Math.random()-.5)*n,h>c.width/2&&(h=c.width/2),h<-c.width/2&&(h=-c.width/2),v+=(Math.random()-.5)*n,v>c.height/2&&(v=c.height/2),v<-c.height/2&&(v=-c.height/2),m.fillStyle=`rgb(${d}, ${p}, ${u})`,m.fillRect(c.width/2+h,c.height/2+v,i,i),setTimeout(()=>{document.getElementById("animationCanvas")&&this.scribbleAnimation(d,u,p,h,v)},l)}}},X=W,Y=Object(f["a"])(X,H,F,!1,null,null,null),J=Y.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row card bg-dark"},[s("div",{staticClass:"my-2 card-header"},[s("h3",{staticClass:"orange"},[t._v(t._s(t.gameData.name))])]),s("div",{staticClass:"card-body"},[s("img",{staticClass:"img-fluid",attrs:{src:t.gameData.imgUrl}})])])},z=[],Z={name:"game-component",props:["gameData"],data(){return{}},methods:{}},K=Z,tt=Object(f["a"])(K,Q,z,!1,null,null,null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 card my-3 content-shadow"},[s("div",{staticClass:"row justify-content-between"},[s("img",{staticClass:"col",attrs:{src:this.imgurl,alt:""}}),s("h6",{staticClass:"align-self-center steam col"},[t._v(t._s(t.gameData.name))]),s("button",{staticClass:"btn btn-primary m-1 col-2",attrs:{type:"button"},on:{click:t.addGame}},[t._v("Add to poll")])])])},at=[],ot={name:"steam-game-component",props:["gameData"],data(){return{newGame:{}}},computed:{imgurl(){return`https://media.steampowered.com/steamcommunity/public/images/apps/${this.gameData.appid}/${this.gameData.img_logo_url}.jpg`},room(){return this.$store.state.room},games(){return this.$store.state.games}},methods:{addGame(){this.games.length<this.room.options.pollItems?(this.newGame.roomId=this.room.id,this.newGame.name=this.gameData.name,this.newGame.imgUrl=this.imgurl,this.newGame.code=this.$route.params.code,console.log(this.newGame),this.$store.dispatch("createGame",this.newGame),this.$store.dispatch("removeFromList",this.newGame)):m.gameLength(this.room.options.pollItems)}}},it=ot,rt=Object(f["a"])(it,st,at,!1,null,null,null),nt=rt.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 card my-3 content-shadow"},[s("div",{staticClass:"row justify-content-between"},[s("img",{staticClass:"col",attrs:{src:t.gameData.imgUrl,alt:""}}),s("h6",{staticClass:"align-self-center steam col"},[t._v(t._s(t.gameData.name))]),s("button",{staticClass:"btn btn-primary m-1 col-2",attrs:{type:"button"},on:{click:t.removeGame}},[t._v("Remove from poll")])])])},ct=[],mt={name:"game-vote-component",props:["gameData"],computed:{room(){return this.$store.state.room}},methods:{removeGame(){this.$store.dispatch("deleteGame",this.gameData.id)}}},dt=mt,ut=Object(f["a"])(dt,lt,ct,!1,null,null,null),pt=ut.exports,ht={name:"Room",data(){return{newGame:{},steamUser:{}}},mounted(){this.$store.dispatch("getRoomByCode",this.$route.params.code),this.$store.dispatch("joinRoom",""+this.$route.params.code),this.$store.dispatch("getGames",this.$route.params.code),this.profile.steamId&&this.getUserSteam()},computed:{games(){return this.$store.state.games},room(){return this.$store.state.room},profile(){return this.$store.state.profile},steam(){return this.$store.state.steam}},methods:{createGame(){this.newGame.roomId=this.room.id,this.newGame.code=this.$route.params.code,this.$store.dispatch("createGame",this.newGame),this.newGame={}},startPoll(){this.$store.dispatch("startPoll",this.room.code),this.$store.dispatch("getGames",this.room.code)},getSteamGames(){this.steamUser.steamId&&this.$store.dispatch("getOwnedGames",this.steamUser.steamId)},getUserSteam(){this.$store.dispatch("getOwnedGames",this.profile.steamId)},async checkName(){if(this.$auth.isAuthenticated)this.$store.dispatch("addName",{id:this.room.id,addName:this.profile.name});else if(!this.$auth.isAuthenticated){let t=await m.addName();this.$store.dispatch("addName",{id:this.room.id,addName:t.value})}}},components:{loadingComponent:J,gameComponent:et,steamGameComponet:nt,gameVoteComponent:pt}},vt=ht,ft=(s("633e"),Object(f["a"])(vt,L,B,!1,null,null,null)),gt=ft.exports,bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid background"},[t._m(0),s("div",{staticClass:"row mt-3 justify-content-center"},[s("div",{staticClass:"col-12 col-md-4 text-center"},[s("game-component",{staticClass:"col-12 mx-1 text-center",attrs:{gameData:this.winner}}),s("p",{staticClass:"neon green"},[t._v(t._s(t.winner.upvotes/t.room.names.length*100)+"% agree")]),s("p",{staticClass:"neon bad"},[t._v(t._s(t.winner.downvotes/t.room.names.length*100)+"% disagree")])],1)]),t._m(1),s("div",{staticClass:"row"},t._l(t.results,(function(e){return s("div",{key:e.id,staticClass:"col-12 col-md-4 text-center mx-2"},[s("game-component",{attrs:{gameData:e}}),e.veto?s("p",{staticClass:"neon bad"},[t._v("V-"),s("i",{staticClass:"fas fa-frog"})]):s("div",[s("p",{staticClass:"neon green"},[t._v(t._s(e.upvotes/t.room.names.length*100)+"% agree")]),s("p",{staticClass:"neon bad"},[t._v(t._s(e.downvotes/t.room.names.length*100)+"% disagree")])])],1)})),0)])},Ct=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row mt-3"},[s("div",{staticClass:"col-12 offset-md-4 col-md-4 text-center"},[s("h1",{staticClass:"card bg-dark red"},[t._v(" The winner is: ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col-12 offset-md-4 col-md-4"},[s("h1",{staticClass:"red card bg-dark text-center"},[t._v("Runners Up:")])])])}],yt={name:"Results",computed:{games(){return this.$store.state.games.sort((function(t,e){return e.score-t.score}))},winner(){return this.games[0]},results(){return this.$store.state.games.slice(1)},room(){return this.$store.state.room}},mounted(){this.$store.dispatch("getGames",this.$route.params.code),this.$store.dispatch("leaveRoom",""+this.$route.params.code)},components:{gameComponent:et}},wt=yt,_t=Object(f["a"])(wt,bt,Ct,!1,null,null,null),$t=_t.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid background"},[s("div",{staticClass:"divider-tiny"}),s("div",{staticClass:"row text-center"},[s("div",{staticClass:"d-none d-lg-block col-1"},[s("button",{staticClass:"mid-page btn btn-primary flashy neon blue",attrs:{type:"button"},on:{click:t.voteDown}},[s("i",{staticClass:"far fa-thumbs-down"})])]),s("div",{staticClass:"col-12 col-lg-10",on:{touchstart:t.startSwipe,touchmove:t.moveSwipe}},[s("game-component",{staticStyle:{height:"80vh"},attrs:{gameData:this.activeGame}})],1),s("div",{staticClass:"d-none d-lg-block col-1"},[s("button",{staticClass:"mid-page btn btn-primary flashy neon blue",attrs:{type:"button"},on:{click:t.voteUp}},[s("i",{staticClass:"far fa-thumbs-up "})])])]),s("div",{staticClass:"row text-center fixed-bottom my-3"},[s("div",{staticClass:"offset-4 col-4"},[s("h2",{staticClass:"red"},[t._v("Remaining Time")]),s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar bg-primary",style:t.progressStyle,attrs:{role:"progressbar"}})]),s("h2",{staticClass:"red"},[t._v("Item "+t._s(t.currentItemNum)+" of "+t._s(t.games.length))]),t.vetos?s("button",{staticClass:"btn btn-primary flashy neon blue",attrs:{type:"button"},on:{click:t.veto}},[s("i",{staticClass:"fas fa-times-circle"})]):t._e(),s("p",{staticClass:"neon",class:{green:t.vetos,bad:!t.vetos}},[t._v("Vetos Remaining: "+t._s(t.vetos))])])])])},Rt=[],Gt={name:"Vote",data(){return{index:0,xDown:null,xCurrent:null,timeout:null,vetos:0,interval:null,counter:0,progressStyle:"width: 100%"}},components:{gameComponent:et},computed:{activeGame(){return 1==this.$store.state.activeGame.veto&&this.getNext(),this.timeout=setTimeout(this.getNext,1e3*this.room.options.questionTime),this.$store.state.activeGame},games(){return this.$store.state.games},room(){return this.$store.state.room},currentItemNum(){let t=this.index;return t+1}},mounted(){this.$store.dispatch("startVote",this.$route.params.code),this.$store.dispatch("joinRoom",""+this.$route.params.code),this.vetos=this.room.options.userVetos,this.counter=this.room.options.questionTime,this.interval=setInterval(()=>{this.counter--,this.progressStyle="width:"+Math.floor(this.counter/this.room.options.questionTime*100)+"%"},1e3)},methods:{voteUp(){this.activeGame.id||this.$store.dispatch("getGamebyID",this.games[this.index].id),this.$store.dispatch("upGame",{id:this.activeGame.id,code:this.$route.params.code}),this.getNext()},voteDown(){this.activeGame.id||this.$store.dispatch("getGamebyID",this.games[this.index].id),this.$store.dispatch("downGame",this.activeGame,this.$route.params.code),this.getNext()},veto(){this.vetos--,this.activeGame.id||this.$store.dispatch("getGamebyID",this.games[this.index].id),this.$store.dispatch("vetoGame",this.activeGame)},getNext(){this.index++,clearTimeout(this.timeout),clearInterval(this.interval),this.progressStyle="width: 100%",this.counter=this.room.options.questionTime,this.index<this.games.length?(this.$store.dispatch("getGamebyID",this.games[this.index].id),this.interval=setInterval(()=>{this.counter--,this.progressStyle="width:"+Math.floor(this.counter/this.room.options.questionTime*100)+"%"},1e3)):(clearTimeout(this.timeout),clearInterval(this.interval),this.$store.dispatch("userDone",this.$route.params.code),this.$router.push({name:"WaitResults",params:{code:this.$route.params.code}}))},getMouseXPosFromEvent(t){return t.clientX||t.touches[0].pageX},startSwipe(t){this.xDown=this.getMouseXPosFromEvent(t),this.startDrag=!0},moveSwipe(){if(!this.startDrag)return;this.xCurrent=this.getMouseXPosFromEvent(event);const t=this.xCurrent-this.xDown;this.endSwipe(t),this.xDown=null},endSwipe(t){this.startDrag=!1,t>0?this.voteUp():this.voteDown()}},beforeRouteLeave(t,e,s){clearInterval(this.interval),clearTimeout(this.timeout),s()}},kt=Gt,Pt=Object(f["a"])(kt,xt,Rt,!1,null,null,null),It=Pt.exports,Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid background"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-7"},[s("div",{staticClass:"card text-center my-2 bg-dark"},[t._m(0),s("div",{staticClass:"card-body"},[s("form",{staticClass:"row justify-content-center form-inline",on:{submit:function(e){return e.preventDefault(),t.addRoom(e)}}},[s("div",{staticClass:"form-group mx-2"},[s("label",{staticClass:"neon blue mx-2",attrs:{for:"room"}},[t._v("Room Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoom.name,expression:"newRoom.name"}],staticClass:"neon blue form-control",attrs:{type:"text",placeholder:"New room name...",name:"room",required:""},domProps:{value:t.newRoom.name},on:{input:function(e){e.target.composing||t.$set(t.newRoom,"name",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"neon blue mx-2",attrs:{for:"vetos"}},[t._v("Allowed User Vetos")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.newRoom.options.userVetos,expression:"newRoom.options.userVetos"}],staticClass:"neon blue form-control mr-2",attrs:{placeholder:"User vetos",name:"vetos",id:"vetos"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newRoom.options,"userVetos",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"neon blue",attrs:{value:"0"}},[t._v("0")]),s("option",{staticClass:"neon blue",attrs:{value:"1"}},[t._v("1")]),s("option",{staticClass:"neon blue",attrs:{value:"2"}},[t._v("2")]),s("option",{staticClass:"neon blue",attrs:{value:"3"}},[t._v("3")])])]),s("div",{staticClass:"form-group w-75"},[s("label",{staticClass:"neon blue",attrs:{for:"formConsensus"}},[t._v("Required Consensus: "+t._s(t.newRoom.options.consensus)+"%")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoom.options.consensus,expression:"newRoom.options.consensus"}],staticClass:"form-control-range",attrs:{type:"range",min:"50",max:"100",id:"formConsensus"},domProps:{value:t.newRoom.options.consensus},on:{__r:function(e){return t.$set(t.newRoom.options,"consensus",e.target.value)}}})]),s("div",{staticClass:"form-group w-75"},[s("label",{staticClass:"neon blue",attrs:{for:"formQuestionTime"}},[t._v("Allowed Vote Time: "+t._s(t.newRoom.options.questionTime)+"s")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoom.options.questionTime,expression:"newRoom.options.questionTime"}],staticClass:"form-control-range mr-2",attrs:{type:"range",min:"1",max:"60",id:"formQuestionTime"},domProps:{value:t.newRoom.options.questionTime},on:{__r:function(e){return t.$set(t.newRoom.options,"questionTime",e.target.value)}}})]),s("div",{staticClass:"form-group w-75"},[s("label",{staticClass:"neon blue",attrs:{for:"formPollItems"}},[t._v("Allowed Poll Items: "+t._s(t.newRoom.options.pollItems))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoom.options.pollItems,expression:"newRoom.options.pollItems"}],staticClass:"form-control-range mr-2",attrs:{type:"range",min:"2",max:"12",id:"formPollItems"},domProps:{value:t.newRoom.options.pollItems},on:{__r:function(e){return t.$set(t.newRoom.options,"pollItems",e.target.value)}}})]),s("button",{staticClass:"btn btn-primary flashy neon blue w-25 mx-1 mt-3",attrs:{type:"submit"}},[t._v(" Go! ")])])])])]),s("div",{staticClass:"col-12 col-md-5"},[s("div",{staticClass:"card text-center my-2 bg-dark"},[t._m(1),s("div",{staticClass:"card poll-container-create"},t._l(t.myRooms,(function(t){return s("historic-poll-component",{key:t.id,attrs:{pollData:t}})})),1)])])]),t._m(2)])},Nt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header red"},[s("h3",[t._v("Create a New Room")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header red"},[s("h3",[t._v("My Previous Polls")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("img",{staticClass:"col-12",staticStyle:{"max-height":"52vh","object-fit":"cover","border-radius":"40px","object-position":"50% 44%",filter:"brightness(110%)"},attrs:{src:s("d01e")}})])}],jt={name:"Rooms",data(){return{newRoom:{name:"",options:{consensus:75,questionTime:30,pollItems:7}}}},computed:{activeroom(){return this.$store.state.room},myRooms(){return this.$store.state.myRooms},profile(){return this.$store.state.profile},name(){return this.$store.state.name}},methods:{addRoom(){this.$store.dispatch("setMyName",this.profile.name),this.newRoom.options.consensus=parseInt(this.newRoom.options.consensus),this.newRoom.options.questionTime=parseInt(this.newRoom.options.questionTime),this.newRoom.options.pollItems=parseInt(this.newRoom.options.pollItems),this.newRoom.options.userVetos=parseInt(this.newRoom.options.userVetos),this.$store.dispatch("createRoom",this.newRoom)}},mounted(){this.$store.dispatch("joinRoom","default"),this.$store.dispatch("setMyName",this.profile.name),this.$store.dispatch("getRooms")},components:{historicPollComponent:O}},Et=jt,St=Object(f["a"])(Et,Dt,Nt,!1,null,null,null),Tt=St.exports,Mt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid background"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"centered"},[s("h1",{staticClass:"text-center flashy neon orange on"},[t._v(" Awaiting results ")]),s("iframe",{staticStyle:{"border-radius":"12px"},attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])])])])}],At={name:"WaitResults",data(){return{timeout:0}},mounted(){this.timeout=setTimeout(()=>{this.$store.dispatch(),this.$router.push({name:"Results",params:{code:this.$route.params.code}})},3e5)},beforeRouteLeave(t,e,s){clearTimeout(this.timeout),s()}},Ut=At,qt=Object(f["a"])(Ut,Mt,Ot,!1,null,null,null),Vt=qt.exports;a["a"].use($["a"]);const Lt=[{path:"/",name:"Home",component:I},{path:"/profile",name:"Profile",component:V,beforeEnter:p["b"]},{path:"/room/:code",name:"Room",component:gt},{path:"/room",name:"Rooms",component:Tt,beforeEnter:p["b"]},{path:"/room/:code/results",name:"Results",component:$t},{path:"/room/:code/waitresults",name:"WaitResults",component:Vt},{path:"/room/:code/vote",name:"Vote",component:It}],Bt=new $["a"]({routes:Lt});var Ht=Bt,Ft=s("2f62"),Wt=s("8055"),Xt=s.n(Wt);let Yt={},Jt=location.host.includes("localhost")?"http://localhost:3000/":"/";const Qt={actions:{initializeSocket({commit:t,dispatch:e,state:s}){Yt=Xt()(Jt),Yt.on("CONNECTED",t=>{console.log(t.message+" sockets on")}),Yt.on("updateRoom",e=>{t("setRoom",e)}),Yt.on("startPoll",t=>{Ht.push({name:"Vote",params:{code:t}})}),Yt.on("poll ended",t=>{Ht.push({name:"Results",params:{code:t}})}),Yt.on("new game",e=>{t("addGame",e)})},joinRoom({commit:t,dispatch:e},s){Yt.emit("dispatch",{action:"JoinRoom",data:s})},leaveRoom({commit:t,dispatch:e},s){Yt.emit("disconnect",{action:"LeaveRoom",data:s})},done({commit:t,dispatch:e},s){Yt.emit("dispatch",{action:"Done",data:s})}}};let zt=location.host.includes("localhost")?"http://localhost:3000/":"/";const Zt=u.a.create({baseURL:zt+"api",timeout:3e3,withCredentials:!0});a["a"].use(Ft["a"]);var Kt=new Ft["a"].Store({state:{profile:{},room:{},myRooms:[],games:[],activeGame:{},name:"",steam:[]},mutations:{setProfile(t,e){t.profile=e},setRoom(t,e){t.room=e},setMyRooms(t,e){t.myRooms=e},setGames(t,e){t.games=e},setActiveGame(t,e){t.activeGame=e},addGame(t,e){t.games.push(e),t.games=t.games},setMyName(t,e){t.name=e},setSteamLibray(t,e){t.steam=e}},actions:{setBearer({},t){Zt.defaults.headers.authorization=t},resetBearer(){Zt.defaults.headers.authorization=""},async getProfile({commit:t}){try{let e=await Zt.get("profile");t("setProfile",e.data)}catch(e){console.error(e)}},async editProfile({commit:t},e){try{let s=await Zt.put("profile/"+e.id,e);t("setProfile",s.data)}catch(s){console.error(s)}},async getRoomByCode({commit:t,dispatch:e},s){let a=await Zt.get("rooms/"+s);t("setRoom",a.data),e("addName")},async getRooms({commit:t}){try{let e=await Zt.get(`profile/${this.state.profile.id}/rooms`);t("setMyRooms",e.data)}catch(e){console.error(e)}},async editRoom({commit:t},e){try{let s=await Zt.put("rooms"+e.id,e);t("setRoom",s.data)}catch(s){console.error(s)}},async deleteRoom({commit:t,state:e},s){try{await Zt.delete("rooms/"+s),t("setMyRooms",this.state.myRooms.filter(t=>t.id!=s))}catch(a){console.error(a)}},async createRoom({commit:t,state:e},s){try{this.state.profile.email&&(s.creatorEmail=this.state.profile.email);let e=await Zt.post("rooms",s);t("setRoom",e.data),console.log(e),Ht.push({name:"Room",params:{code:e.data.code}})}catch(a){console.error(a)}},async addName({commit:t},e){if(this.state.name){if(this.state.room.names.includes(this.state.name))return;await Zt.put(`rooms/${this.state.room.id}/names`,{addName:this.state.name})}else this.state.room.names.includes(this.state.profile.name)||await Zt.put(`rooms/${this.state.room.id}/names`,{addName:this.state.profile.name})},async startPoll({},t){try{Zt.put(`rooms/${t}/start`)}catch(e){console.error(e)}},async userDone({},t){try{Zt.put(`rooms/${t}/done`)}catch(e){console.error(e)}},async getGamebyID({commit:t},e){try{let s=await Zt.get("games/"+e);t("setActiveGame",s.data)}catch(s){console.error(s)}},async getGames({commit:t,state:e},s){try{let e=await Zt.get(`rooms/${s}/games`);t("setGames",e.data)}catch(a){console.error(a)}},async editGame({commit:t},e){try{let s=await Zt.put("games"+e.id,e);t("editGame",s.data)}catch(s){console.error(s)}},async deleteGame({commit:t,state:e},s){try{await Zt.delete("games/"+s),t("setGames",this.state.games.filter(t=>t.id!=s))}catch(a){console.error(a)}},async createGame({commit:t},e){try{await Zt.post("games",e)}catch(s){console.error(s)}},async resetRoom({commit:t},e){try{console.log(e),await Zt.put("/rooms/"+e.id,e),await Zt.put(`/rooms/${e.id}/games`,e)}catch(s){}},async respond({},t){try{await Zt.post("responses",t)}catch(e){console.error(e)}},async upGame({commit:t,state:e},s){try{await Zt.put(`games/${s.id}/upvote`,{code:s.code})}catch(a){console.error(a)}},async downGame({commit:t,state:e},s,a){try{await Zt.put(`games/${s.id}/downvote`,a)}catch(o){console.error(o)}},async vetoGame({commit:t,state:e},s,a){try{s.veto=!0,await Zt.put("games/"+s.id,s)}catch(o){console.error(o)}},setMyName({commit:t},e){t("setMyName",e)},async startVote({commit:t,state:e,dispatch:s},a){try{let e=await Zt.get(`rooms/${a}/games`);t("setGames",e.data),t("setActiveGame",e.data[0])}catch(o){console.error(o)}},async getOwnedGames({commit:t,state:e,dispatch:s},a){try{let e=await Zt.get("steam/"+a);console.log("got",e.data.game_count),t("setSteamLibray",e.data.games)}catch(o){console.error(o),m.steamNotice()}},removeFromList({commit:t,state:e},s){t("setSteamLibray",e.steam.filter(t=>t.name!=s.name))}},modules:{socketService:Qt}});const te="deciderapp.us.auth0.com",ee="https://deciderapp",se="3tHh1A0HRx9ZMwTQVOrmRS92ejVj9AIA";a["a"].use(p["a"],{domain:te,clientId:se,audience:ee,onRedirectCallback:t=>{Ht.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new a["a"]({router:Ht,store:Kt,render:function(t){return t(_)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),o=s.n(a);o.a},6026:function(t,e,s){t.exports=s.p+"img/neoncompguts.ff952789.jpg"},"633e":function(t,e,s){"use strict";var a=s("3ffd"),o=s.n(a);o.a},"6f86":function(t,e,s){"use strict";var a=s("129c"),o=s.n(a);o.a},"99a2":function(t,e,s){t.exports=s.p+"img/gameon.75f1ef37.jpg"},"9c0c":function(t,e,s){},a673:function(t,e,s){t.exports=s.p+"img/neontogether.aecd5dc2.jpg"},cf05:function(t,e,s){t.exports=s.p+"img/logo.eff9284f.png"},d01e:function(t,e,s){t.exports=s.p+"img/levelup.50d3318f.jpg"},e991:function(t,e,s){t.exports=s.p+"img/vrdude.4a31bfab.jpg"}});